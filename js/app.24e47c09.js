(function(t){function e(e){for(var a,i,c=e[0],o=e[1],l=e[2],b=0,d=[];b<c.length;b++)i=c[b],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,c=1;c<s.length;c++){var o=s[c];0!==r[o]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},2816:function(t,e,s){},"327f":function(t,e,s){"use strict";s("d021")},"56d7":function(t,e,s){"use strict";s.r(e);s("e623"),s("e379"),s("5dc8"),s("37e1");var a=s("7a23"),r={class:"columns",id:"mail-app"},n={class:"column router hero is-fullheight color"};function i(t,e,s,i,c,o){var l=Object(a["y"])("app-navigation"),u=Object(a["y"])("app-side-navigation"),b=Object(a["y"])("router-view");return Object(a["r"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(l),Object(a["i"])("div",r,[Object(a["i"])(u),Object(a["i"])("div",n,[Object(a["i"])(b,{key:t.$route.path})])])],64)}s("ac1f"),s("841c");var c=s("cf05"),o=s.n(c),l=Object(a["H"])("data-v-5a226914");Object(a["u"])("data-v-5a226914");var u={class:"navbar spotify-black-background"},b=Object(a["i"])("a",{class:"navbar-item",href:"../"},[Object(a["i"])("img",{src:o.a})],-1),d={class:"navbar-brand"},p=Object(a["h"])("Spotify Playlists"),f={key:2,class:"navbar-item field has-addons"},j={class:"control"},O={class:"control"},h=Object(a["i"])("div",{class:"navbar-burger burger","data-target":"navMenu"},[Object(a["i"])("span"),Object(a["i"])("span"),Object(a["i"])("span")],-1),y={key:0,class:"navbar-end"},m=Object(a["i"])("a",{class:"navbar-item button spotify-green-background is-block is-bold",href:"https://localhost:5000/login"}," Login ",-1),v={key:1,class:"navbar-end"},g={class:"navbar-item dropdown is-hoverable"},k={class:"dropdown-trigger"},A={class:"dropdown-menu"},_={class:"dropdown-content"};Object(a["s"])();var P=l((function(t,e,s,r,n,i){var c=Object(a["y"])("router-link");return Object(a["r"])(),Object(a["e"])("nav",u,[b,Object(a["i"])("div",d,[i.auth?(Object(a["r"])(),Object(a["e"])("a",{key:0,onClick:e[1]||(e[1]=Object(a["G"])((function(t){return i.viewRecent()}),["prevent"])),class:"navbar-item",x:""}," Recently Played ")):Object(a["f"])("",!0),i.auth?(Object(a["r"])(),Object(a["e"])(c,{key:1,to:"/playlists",class:"navbar-item"},{default:l((function(){return[p]})),_:1})):Object(a["f"])("",!0),i.auth?(Object(a["r"])(),Object(a["e"])("div",f,[Object(a["i"])("div",j,[Object(a["E"])(Object(a["i"])("input",{class:"input",type:"text",placeholder:"Search artist, song, or album","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.search=e}),onKeyup:e[3]||(e[3]=Object(a["F"])((function(t){return i.spotifySearch()}),["enter"]))},null,544),[[a["C"],t.search]])]),Object(a["i"])("div",O,[Object(a["i"])("a",{class:"button",onClick:e[4]||(e[4]=function(){return i.spotifySearch.apply(i,arguments)})}," Search ")])])):Object(a["f"])("",!0),h]),i.auth?Object(a["f"])("",!0):(Object(a["r"])(),Object(a["e"])("div",y,[m])),i.auth?(Object(a["r"])(),Object(a["e"])("div",v,[Object(a["i"])("div",g,[Object(a["i"])("div",k,"Hello "+Object(a["A"])(i.user.spotify_id),1),Object(a["i"])("div",A,[Object(a["i"])("div",_,[Object(a["i"])("a",{href:"#",onClick:e[5]||(e[5]=Object(a["G"])((function(t){return i.signOut()}),["prevent"]))}," Sign out ")])])])])):Object(a["f"])("",!0)])})),w={data:function(){return{search:""}},computed:{auth:function(){return this.$store.getters.isAuthenticated},user:function(){return this.$store.state.user}},methods:{spotifySearch:function(){this.search.length>0&&this.search.length>3&&(this.$store.commit("setSearchResults",null),this.$store.dispatch("getSearchResults",this.search),this.search="",this.$router.push("/search"))},viewRecent:function(){this.$store.dispatch("getRecentlyPlayed"),this.$router.push("/recent")},signOut:function(){document.cookie="user= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",window.location.href="../"}}},x=(s("78ed"),s("d959")),S=s.n(x);const R=S()(w,[["render",P],["__scopeId","data-v-5a226914"]]);var $=R,T=Object(a["H"])("data-v-297f9130");Object(a["u"])("data-v-297f9130");var C={key:0,class:"column is-2 aside"},I={class:"container"},G=Object(a["i"])("span",{class:"playlist"},"Create Playlist",-1),z=Object(a["i"])("div",{class:"title"},"Artist Playlists",-1);Object(a["s"])();var E=T((function(t,e,s,r,n,i){return i.auth?(Object(a["r"])(),Object(a["e"])("aside",C,[Object(a["i"])("div",I,[Object(a["i"])("header",null,[Object(a["E"])(Object(a["i"])("input",{class:"input",type:"text",placeholder:"New playlist name","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.newPlaylist=e}),onKeyup:e[2]||(e[2]=Object(a["F"])((function(t){return i.createPlaylist()}),["enter"]))},null,544),[[a["C"],t.newPlaylist]]),Object(a["i"])("a",{class:"button spotify-green-background is-block is-bold",onClick:e[3]||(e[3]=Object(a["G"])((function(t){return i.createPlaylist()}),["prevent"]))},[G])]),Object(a["i"])("footer",null,[z,Object(a["i"])("nav",null,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.playlists,(function(t){return Object(a["r"])(),Object(a["e"])("a",{class:"item",onClick:Object(a["G"])((function(e){return i.setPlaylist(t._id)}),["prevent"]),key:t._id},Object(a["A"])(t.display_name),9,["onClick"])})),128))])])])])):Object(a["f"])("",!0)})),H={data:function(){return{newPlaylist:""}},computed:{auth:function(){return this.$store.getters.isAuthenticated},playlists:function(){return this.$store.getters.artistPlaylists}},methods:{setPlaylist:function(t){this.$store.dispatch("getArtistPlaylist",t),this.$router.push("/artistplaylists/".concat(t))},createPlaylist:function(){this.$store.dispatch("createArtistPlaylist",this.newPlaylist),this.newPlaylist=""}}};s("6ba4");const N=S()(H,[["render",E],["__scopeId","data-v-297f9130"]]);var B=N,M={data:function(){},components:{appNavigation:$,appSideNavigation:B},mounted:function(){this.$store.dispatch("tryAutoLogin"),this.$store.dispatch("tryPlaylistGather")}};s("a725");const U=S()(M,[["render",i]]);var L=U,F=s("6c02");function J(t,e,s,r,n,i){return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["i"])("h1",null,Object(a["A"])(t.userId),1),Object(a["i"])("p",null,Object(a["A"])(t.user),1)])}var q={};const D=S()(q,[["render",J]]);var K=D,V=(s("b0c0"),Object(a["H"])("data-v-49308a5d"));Object(a["u"])("data-v-49308a5d");var W={key:0},Q=Object(a["g"])('<div class="line hc" data-v-49308a5d><div class="songname header" data-v-49308a5d>Title</div><div class="artists header" data-v-49308a5d>Artists</div><div class="album header" data-v-49308a5d>Album</div><div class="duration header" data-v-49308a5d>Duration</div></div>',1),X={class:"songname"},Y={class:"artists"},Z={class:"album"},tt={class:"duration"};Object(a["s"])();var et=V((function(t,e,s,r,n,i){return null!=i.recently_played?(Object(a["r"])(),Object(a["e"])("main",W,[Q,(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.recently_played.items,(function(t,e){return Object(a["r"])(),Object(a["e"])("div",{class:"line",key:t,id:e},[Object(a["i"])("div",X,Object(a["A"])(t.track.name),1),Object(a["i"])("div",Y,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(t.track.artists,(function(t,e){return Object(a["r"])(),Object(a["e"])("div",{class:"artist",key:e},[Object(a["i"])("a",{onClick:Object(a["G"])((function(e){return i.openArtist(t.id)}),["prevent"])},Object(a["A"])(t.name),9,["onClick"])])})),128))]),Object(a["i"])("div",Z,Object(a["A"])(t.track.album.name),1),Object(a["i"])("div",tt,Object(a["A"])(i.convert_to_minutes(t.track.duration_ms)),1)],8,["id"])})),128))])):Object(a["f"])("",!0)})),st=(s("b680"),{computed:{recently_played:function(){return this.$store.state.recently_played}},methods:{convert_to_minutes:function(t){var e=Math.floor(t/6e4),s=(t%6e4/1e3).toFixed(0);return e+":"+(s<10?"0":"")+s},openArtist:function(t){this.$store.dispatch("getArtist",t),this.$router.push("/artist")}}});s("571b");const at=S()(st,[["render",et],["__scopeId","data-v-49308a5d"]]);var rt=at,nt=Object(a["H"])("data-v-65a806a5");Object(a["u"])("data-v-65a806a5");var it={class:"playlists"};Object(a["s"])();var ct=nt((function(t,e,s,r,n,i){var c=Object(a["y"])("app-spotify-playlist-list");return Object(a["r"])(),Object(a["e"])("main",null,[Object(a["i"])("div",it,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.spotify_playlists,(function(t){return Object(a["r"])(),Object(a["e"])(c,{key:t.id,playlist:t},null,8,["playlist"])})),128))])])})),ot=s("bd21"),lt=s.n(ot),ut=Object(a["H"])("data-v-378e0c0b");Object(a["u"])("data-v-378e0c0b");var bt={class:"img-container"},dt={key:1,src:lt.a,alt:""},pt={class:"is-size-6 has-text-left"},ft={class:"subtext"};Object(a["s"])();var jt=ut((function(t,e,s,r,n,i){return Object(a["r"])(),Object(a["e"])("div",{class:"spotify-playlist",onClick:e[1]||(e[1]=function(t){return i.openPlaylist(s.playlist.tracks.href)})},[Object(a["i"])("div",bt,[s.playlist.images[1]?(Object(a["r"])(),Object(a["e"])("img",{key:0,src:s.playlist.images[1].url},null,8,["src"])):(Object(a["r"])(),Object(a["e"])("img",dt))]),Object(a["i"])("h1",pt,Object(a["A"])(s.playlist.name),1),Object(a["i"])("span",ft,"By "+Object(a["A"])(s.playlist.owner.display_name),1)])})),Ot={props:{playlist:{type:Object,required:!0}},methods:{openPlaylist:function(t){this.$store.dispatch("getSpotifyPlaylistTracks",{url:t,allTracks:[]}),this.$router.push("/playlists/tracks")}}};s("719a");const ht=S()(Ot,[["render",jt],["__scopeId","data-v-378e0c0b"]]);var yt=ht,mt={mounted:function(){this.$store.state.isAuthenticated&&null==this.$store.state.spotify_playlists&&this.$store.dispatch("getSpotifyPlaylists")},computed:{spotify_playlists:function(){return this.$store.state.spotify_playlists},playlist_image:function(t){var e=t.images[1];return e.url}},components:{appSpotifyPlaylistList:yt}};s("b86b");const vt=S()(mt,[["render",ct],["__scopeId","data-v-65a806a5"]]);var gt=vt,kt={key:0},At=Object(a["i"])("h1",{class:"title"},"Artists",-1),_t=Object(a["i"])("h1",{class:"title"},"Albums",-1),Pt=Object(a["i"])("h1",{class:"title"},"Tracks",-1),wt={key:1};function xt(t,e,s,r,n,i){return void 0!=i.searchResults||null!=i.searchResults?(Object(a["r"])(),Object(a["e"])("div",kt,[At,Object(a["i"])("ul",null,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.searchResults.artists,(function(t){return Object(a["r"])(),Object(a["e"])("li",{key:t.id},Object(a["A"])(t.name),1)})),128))]),_t,Object(a["i"])("ul",null,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.searchResults.albums,(function(t){return Object(a["r"])(),Object(a["e"])("li",{key:t.id},Object(a["A"])(t.name),1)})),128))]),Pt,Object(a["i"])("ul",null,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.searchResults.tracks,(function(t){return Object(a["r"])(),Object(a["e"])("li",{key:t.id},Object(a["A"])(t.name),1)})),128))])])):(Object(a["r"])(),Object(a["e"])("div",wt,"No search results found!"))}var St={computed:{searchResults:function(){return this.$store.getters.getSearchResultItems}}};const Rt=S()(St,[["render",xt]]);var $t=Rt,Tt=Object(a["H"])("data-v-ea5dbe34");Object(a["u"])("data-v-ea5dbe34");var Ct={class:"playlist"},It={class:"img-container"},Gt={class:"is-size-6 is-bold has-text-left"};Object(a["s"])();var zt=Tt((function(t,e,s,r,n,i){return Object(a["r"])(),Object(a["e"])("main",null,[Object(a["i"])("div",Ct,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.spotify_playlist_tracks,(function(t){return Object(a["r"])(),Object(a["e"])("div",{class:"track",key:t.added_at},[Object(a["i"])("div",It,[t.track.album.images.length>2?(Object(a["r"])(),Object(a["e"])("img",{key:0,src:t.track.album.images[2].url},null,8,["src"])):Object(a["f"])("",!0)]),Object(a["i"])("h1",Gt,Object(a["A"])(t.track.name),1),(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(t.track.artists,(function(t){return Object(a["r"])(),Object(a["e"])("a",{key:t.id,onClick:Object(a["G"])((function(e){return i.openArtist(t.id)}),["prevent"])},Object(a["A"])(t.name),9,["onClick"])})),128))])})),128))])])})),Et={computed:{spotify_playlist_tracks:function(){return this.$store.state.spotify_playlist_tracks}},methods:{openArtist:function(t){this.$store.dispatch("getArtist",t),this.$router.push("/artist")}}};s("d759");const Ht=S()(Et,[["render",zt],["__scopeId","data-v-ea5dbe34"]]);var Nt=Ht,Bt=Object(a["H"])("data-v-762176f6");Object(a["u"])("data-v-762176f6");var Mt={key:0,class:"logged"},Ut={key:1,class:"notlogged"},Lt=Object(a["i"])("span",null," Looking for an alternative way to organize your music? ",-1),Ft=Object(a["i"])("span",null," Move artists into their own categories. ",-1),Jt=Object(a["i"])("span",null," Never forget that newly discovered band! ",-1);Object(a["s"])();var qt=Bt((function(t,e,s,r,n,i){return Object(a["r"])(),Object(a["e"])("main",null,[i.auth?(Object(a["r"])(),Object(a["e"])("div",Mt,"Welcome back!")):(Object(a["r"])(),Object(a["e"])("div",Ut,[Lt,Ft,Jt]))])})),Dt={data:function(){return{playlistName:"",results:""}},props:{msg:String},computed:{auth:function(){return this.$store.getters.isAuthenticated},user:function(){return this.$store.state.user}},methods:{}};s("ffd1");const Kt=S()(Dt,[["render",qt],["__scopeId","data-v-762176f6"]]);var Vt=Kt,Wt=Object(a["H"])("data-v-7156d71e");Object(a["u"])("data-v-7156d71e");var Qt={key:0},Xt={class:"is-size-5"},Yt={class:"artists"},Zt={class:"img-container has-text-centered"},te={class:"is-size-6 has-text-left"},ee=Object(a["i"])("br",null,null,-1),se=Object(a["i"])("span",{class:"subtext"},"Artist",-1);Object(a["s"])();var ae=Wt((function(t,e,s,r,n,i){return null!==i.playlist?(Object(a["r"])(),Object(a["e"])("main",Qt,[Object(a["i"])("header",null,[Object(a["i"])("h1",Xt,Object(a["A"])(i.playlist.display_name),1)]),Object(a["i"])("div",Yt,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.playlist.artists,(function(t,e){return Object(a["r"])(),Object(a["e"])("div",{key:e,class:"artist",onClick:Object(a["G"])((function(e){return i.openArtist(t.artistid)}),["prevent"])},[Object(a["i"])("div",Zt,[Object(a["i"])("img",{src:t.artistimage},null,8,["src"])]),Object(a["i"])("h1",te,[Object(a["h"])(Object(a["A"])(t.artistname)+" ",1),ee,se])],8,["onClick"])})),128))])])):Object(a["f"])("",!0)})),re={mounted:function(){},computed:{playlist:function(){return this.$store.getters.artistPlaylist}},methods:{openArtist:function(t){this.$store.dispatch("getArtist",t),this.$router.push("/artist")}}};s("327f");const ne=S()(re,[["render",ae],["__scopeId","data-v-7156d71e"]]);var ie=ne,ce=Object(a["H"])("data-v-c1266e8a");Object(a["u"])("data-v-c1266e8a");var oe={class:"notification-container"},le=Object(a["h"])(" Artist added successfully! "),ue=Object(a["h"])(" Error adding artist! Please try again. "),be={key:0},de={class:"title"},pe={class:"dropdown-trigger is-center"},fe=Object(a["i"])("span",null,"Add to Playlist",-1),je={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},Oe={class:"dropdown-content"},he={key:1,src:lt.a,class:"is-centered"},ye={key:1},me=Object(a["i"])("h1",{class:"is-size-5"},"Artist's Albums",-1),ve={class:"cards"},ge={class:"img-container has-text-centered"},ke={class:"is-size-6 has-text-left album-name"},Ae=Object(a["i"])("h1",{class:"is-size-5"},"Similar Artists",-1),_e={class:"cards"},Pe={class:"img-container has-text-centered"},we={class:"is-size-6 has-text-left artist-name"},xe=Object(a["i"])("footer",null,null,-1);Object(a["s"])();var Se=ce((function(t,e,s,r,n,i){return Object(a["r"])(),Object(a["e"])("div",oe,[Object(a["i"])(a["b"],{name:"fade"},{default:ce((function(){return[Object(a["i"])("div",{class:["notification is-success",{"is-visible":n.successful,"is-hidden":!n.successful||null==n.successful}]},[Object(a["i"])("button",{class:"delete",onClick:e[1]||(e[1]=function(t){return i.toggleNotification()})}),le],2)]})),_:1}),Object(a["i"])(a["b"],{name:"fade"},{default:ce((function(){return[Object(a["i"])("div",{class:["notification is-danger",{"is-visible":!n.successful,"is-hidden":n.successful||null==n.successful}]},[Object(a["i"])("button",{class:"delete",onClick:e[2]||(e[2]=function(t){return i.toggleNotification()})}),ue],2)]})),_:1}),null!=i.artist?(Object(a["r"])(),Object(a["e"])("header",be,[Object(a["i"])("h1",de,Object(a["A"])(i.artist.name),1),Object(a["i"])("div",{class:["dropdown is-hoverable",{"is-active":n.isActive}]},[Object(a["i"])("div",pe,[Object(a["i"])("button",{class:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:e[3]||(e[3]=function(t){return i.toggleActive()})},[fe])]),Object(a["i"])("div",je,[Object(a["i"])("div",Oe,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.playlists,(function(t){return Object(a["r"])(),Object(a["e"])("a",{key:t.id,href:"#",class:"dropdown-item",onClick:Object(a["G"])((function(e){return i.addToPlaylist(t)}),["prevent"])},Object(a["A"])(t.display_name),9,["onClick"])})),128))])])],2),i.artist.images.length>0?(Object(a["r"])(),Object(a["e"])("img",{key:0,src:i.artist.images[0].url},null,8,["src"])):(Object(a["r"])(),Object(a["e"])("img",he))])):Object(a["f"])("",!0),null!=i.artistInfo?(Object(a["r"])(),Object(a["e"])("main",ye,[me,Object(a["i"])("div",ve,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.artistInfo.albums.items,(function(t,e){return Object(a["r"])(),Object(a["e"])("div",{class:"album",key:e},[Object(a["i"])("div",ge,[t.images[0]?(Object(a["r"])(),Object(a["e"])("img",{key:0,src:t.images[0].url},null,8,["src"])):Object(a["f"])("",!0)]),Object(a["i"])("h1",ke,Object(a["A"])(t.name),1)])})),128))]),Ae,Object(a["i"])("div",_e,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(i.artistInfo.relatedArtists.artists,(function(t,e){return Object(a["r"])(),Object(a["e"])("div",{class:"similar-artist",key:e},[Object(a["i"])("div",Pe,[t.images?(Object(a["r"])(),Object(a["e"])("img",{key:0,src:t.images[0].url},null,8,["src"])):Object(a["f"])("",!0)]),Object(a["i"])("h1",we,[Object(a["i"])("a",{onClick:Object(a["G"])((function(e){return i.openArtist(t.id)}),["prevent"])},Object(a["A"])(t.name),9,["onClick"])])])})),128))])])):Object(a["f"])("",!0),xe])})),Re=(s("96cf"),s("1da1")),$e=s("bc3a"),Te=s.n($e),Ce={data:function(){return{isActive:!1,successful:null}},mounted:function(){},computed:{artist:function(){return this.$store.state.artist},artistInfo:function(){return this.$store.state.artistInfo},playlists:function(){return this.$store.state.artistPlaylists}},methods:{addToPlaylist:function(t){var e=this;return Object(Re["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Te.a.post("https://artistplaylists.herokuapp.com/artist/playlist/add",{playlistId:t._id,artistName:e.artist.name,artistId:e.artist.id,artistUrl:e.artist.href,artistImage:e.artist.images[0].url||"../assets/no-image.png"},{withCredentials:!0});case 2:a=s.sent,200==a.status?e.successful=!0:e.successful=!1,setTimeout((function(){e.successful=null}),2e3);case 5:case"end":return s.stop()}}),s)})))()},openArtist:function(t){this.$store.dispatch("getArtist",t),this.$router.push("/artist")},toggleActive:function(){},toggleNotification:function(){this.successful=null}}};s("e7b6");const Ie=S()(Ce,[["render",Se],["__scopeId","data-v-c1266e8a"]]);var Ge=Ie,ze=s("5502"),Ee=(s("99af"),s("2909")),He=s("bc3a"),Ne={state:{spotify_playlists:null,spotify_playlist_tracks:null,artist:null,artistInfo:null,search_results:null,recently_played:null},mutations:{setSpotifyPlaylists:function(t,e){this.state.spotify_playlists=e},setArtist:function(t,e){this.state.artist=e},setArtistInfo:function(t,e){this.state.artistInfo=e},setSpotifyPlaylistTracks:function(t,e){this.state.spotify_playlist_tracks=e},setSearchResults:function(t,e){this.state.search_results=e},setRecentlyPlayed:function(t,e){console.log(e),this.state.recently_played=e}},actions:{getSpotifyPlaylists:function(t){return Object(Re["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0==t.rootState.user.access_token){e.next=6;break}return e.next=3,He({method:"GET",url:"https://api.spotify.com/v1/me/playlists",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)},params:{limit:50}});case 3:s=e.sent,a=s.data.items,t.commit("setSpotifyPlaylists",a);case 6:case"end":return e.stop()}}),e)})))()},getSpotifyPlaylistTracks:function(t,e){return Object(Re["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,void 0==t.rootState.user.access_token){s.next=9;break}return s.next=4,He({method:"GET",url:e.url,headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)}});case 4:a=s.sent,r=a.data.items,n=a.data.next,i=[].concat(Object(Ee["a"])(e.allTracks),Object(Ee["a"])(r)),null!=n?t.dispatch("getSpotifyPlaylistTracks",{url:n,allTracks:i}):t.commit("setSpotifyPlaylistTracks",i);case 9:s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),console.error(s.t0);case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()},getSearchResults:function(t,e){return Object(Re["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,c,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!t.rootState.user.access_token){s.next=10;break}return s.next=3,He({method:"GET",url:"https://api.spotify.com/v1/search",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)},params:{type:"artist,track,album",q:e}});case 3:a=s.sent,r=a.data,n=r.albums,i=r.artists,c=r.tracks,o={albums:n.items,artists:i.items,tracks:c.items},t.commit("setSearchResults",o);case 10:case"end":return s.stop()}}),s)})))()},getArtist:function(t,e){return Object(Re["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,void 0==t.rootState.user.access_token){s.next=8;break}return s.next=4,He({method:"GET",url:"https://api.spotify.com/v1/artists/".concat(e),headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)}});case 4:a=s.sent,r=a.data,t.commit("setArtist",r),t.dispatch("getArtistInfo",e);case 8:s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log(s.t0);case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},getArtistInfo:function(t,e){return Object(Re["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={},s.prev=1,s.next=4,He({method:"GET",url:"https://api.spotify.com/v1/artists/".concat(e,"/related-artists"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)}});case 4:return r=s.sent,s.next=7,He({method:"GET",url:"https://api.spotify.com/v1/artists/".concat(e,"/top-tracks"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)},params:{market:"US"}});case 7:return n=s.sent,s.next=10,He({method:"GET",url:"https://api.spotify.com/v1/artists/".concat(e,"/albums"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)}});case 10:i=s.sent,a.relatedArtists=r.data,a.topTracks=n.data,a.albums=i.data,t.commit("setArtistInfo",a),s.next=20;break;case 17:s.prev=17,s.t0=s["catch"](1),console.log(s.t0);case 20:case"end":return s.stop()}}),s,null,[[1,17]])})))()},getRecentlyPlayed:function(t){return Object(Re["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He({method:"GET",url:"https://api.spotify.com/v1/me/player/recently-played",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)},params:{limit:"20"}});case 3:s=e.sent,a=s.data,t.commit("setRecentlyPlayed",a),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},getters:{getSpotifyPlaylists:function(t){return t.spotify_playlists},getSpotifyPlaylistTracks:function(t){return t.spotify_playlist_tracks},getSearchResultItems:function(t){return t.search_results},getRecentlyPlayed:function(t){return t.recently_played}}};s("ed18").config();var Be=Object(ze["a"])({state:{idToken:null,userId:null,user:null,isAuthenticated:!1,artistPlaylists:null,artistPlaylist:null},mutations:{authUser:function(t,e){t.idToken=e.token,t.userId=e.userId},setUser:function(t,e){t.user=e},clearAuthData:function(t){t.idToken=null,t.userId=null},setAuthed:function(t,e){t.isAuthenticated=e},setArtistPlaylists:function(t,e){t.artistPlaylists=e},setArtistPlaylist:function(t,e){t.artistPlaylist=e},setCookie:function(t){this.$cookies.set("user_token",t)}},actions:{tryAutoLogin:function(t){return Object(Re["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Te.a.get("https://artistplaylists.herokuapp.com/checklogin",{params:{token:t.getters("getCookie")}});case 2:s=e.sent,null!==s.spotify_id&&(t.commit("setUser",s.data),t.commit("setAuthed",!0));case 4:case"end":return e.stop()}}),e)})))()},tryPlaylistGather:function(t){return Object(Re["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Te.a.get("https://artistplaylists.herokuapp.com/artist/playlists",{params:{token:t.getters("getCookie")}});case 2:s=e.sent,null!=s.data&&t.commit("setArtistPlaylists",s.data);case 4:case"end":return e.stop()}}),e)})))()},setArtistPlaylist:function(t,e){t.commit("setArtistPlaylist",e)},getArtistPlaylist:function(t,e){return Object(Re["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Te.a.get("https://artistplaylists.herokuapp.com/artist/playlist",{params:{id:e,token:t.getters("getCookie")}});case 2:a=s.sent,null!=a.data&&t.commit("setArtistPlaylist",a.data);case 4:case"end":return s.stop()}}),s)})))()},createArtistPlaylist:function(t,e){return Object(Re["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return Te.a.post("https://artistplaylist.herokuapp.com/artist/playlist",{}),s.next=3,Te.a.post("https://artistplaylists.herokuapp.com/artist/playlist",{name:e,token:t.getters("getCookie")});case 3:a=s.sent,null!=a&&t.dispatch("tryPlaylistGather");case 5:case"end":return s.stop()}}),s)})))()}},getters:{user:function(t){return t.user},isAuthenticated:function(t){return t.isAuthenticated},artistPlaylists:function(t){return t.artistPlaylists},artistPlaylist:function(t){return t.artistPlaylist},getCookie:function(){return this.$cookies.get("user_token")}},modules:{spotify:Ne}}),Me=[{path:"/:catchAll(.*)",component:Vt},{path:"/",name:"Home",component:Vt},{path:"/login",name:"Login",component:K},{path:"/playlists",name:"Playlists",component:gt},{path:"/playlists/tracks",name:"PlaylistTracks",component:Nt},{path:"/artistplaylists/:id",name:"ArtistPlaylist",component:ie,beforeRouteEnter:function(t,e,s){var a=t.params.id;Be.dispatch("getArtistPlaylist",a),s()}},{path:"/recent",name:"Recently Played",component:rt},{path:"/search",name:"Search",component:$t},{path:"/artist",name:"Artist",component:Ge}],Ue=Object(F["a"])({routes:Me}),Le=Ue,Fe=s("2b27"),Je=s.n(Fe);L.use(Je.a),Object(a["d"])(L).use(Be).use(Le).mount("#app")},"571b":function(t,e,s){"use strict";s("fb76")},"6ba4":function(t,e,s){"use strict";s("ce62")},"719a":function(t,e,s){"use strict";s("95b9")},"78ed":function(t,e,s){"use strict";s("d656")},"86d6":function(t,e,s){},"8d90":function(t,e,s){},"95b9":function(t,e,s){},"9be7":function(t,e,s){},a725:function(t,e,s){"use strict";s("9be7")},a829:function(t,e,s){},b86b:function(t,e,s){"use strict";s("8d90")},bd21:function(t,e,s){t.exports=s.p+"img/no-image.b11d597f.png"},ce62:function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.a7bddc22.png"},d021:function(t,e,s){},d656:function(t,e,s){},d759:function(t,e,s){"use strict";s("2816")},e7b6:function(t,e,s){"use strict";s("a829")},fb76:function(t,e,s){},ffd1:function(t,e,s){"use strict";s("86d6")}});
//# sourceMappingURL=app.24e47c09.js.map