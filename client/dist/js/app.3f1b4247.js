(function(t){function e(e){for(var r,c,i=e[0],o=e[1],l=e[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&p.push(n[c][0]),n[c]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],r=!0,i=1;i<s.length;i++){var o=s[i];0!==n[o]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=s[0]))}return t}var r={},n={app:0},a=[];function c(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=t,c.c=r,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(s,r,function(e){return t[e]}.bind(null,r));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=o;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"043b":function(t,e,s){"use strict";s("3973")},2816:function(t,e,s){},"327f":function(t,e,s){"use strict";s("d021")},3973:function(t,e,s){},4566:function(t,e,s){"use strict";s("a004")},"46c0":function(t,e,s){"use strict";s("834b")},"56d7":function(t,e,s){"use strict";s.r(e);s("e623"),s("e379"),s("5dc8"),s("37e1");var r=s("7a23"),n={class:"columns",id:"mail-app"},a={class:"column router hero is-fullheight color"};function c(t,e,s,c,i,o){var l=Object(r["y"])("app-navigation"),u=Object(r["y"])("app-side-navigation"),d=Object(r["y"])("router-view");return Object(r["r"])(),Object(r["e"])(r["a"],null,[Object(r["i"])(l),Object(r["i"])("div",n,[Object(r["i"])(u),Object(r["i"])("div",a,[Object(r["i"])(d,{key:t.$route.path})])])],64)}s("ac1f"),s("841c");var i=s("cf05"),o=s.n(i),l=Object(r["H"])("data-v-006ec342");Object(r["u"])("data-v-006ec342");var u={class:"navbar spotify-black-background"},d=Object(r["i"])("a",{class:"navbar-img",href:"../"},[Object(r["i"])("img",{src:o.a})],-1),p={class:"navbar-brand"},b=Object(r["h"])("Spotify Playlists"),f={key:2,class:"navbar-item field has-addons"},h={class:"control"},j={class:"control"},O=Object(r["i"])("div",{class:"navbar-burger burger","data-target":"navMenu"},[Object(r["i"])("span"),Object(r["i"])("span"),Object(r["i"])("span")],-1),y={key:0,class:"navbar-end"},m=Object(r["i"])("a",{class:"navbar-item button spotify-green-background is-block is-bold",href:"https://artistplaylists.herokuapp.com/auth/login"}," Login ",-1),v={key:1,class:"navbar-end"},g={class:"navbar-item dropdown is-hoverable"},k={class:"dropdown-trigger"},A={class:"dropdown-menu"},w={class:"dropdown-content"};Object(r["s"])();var _=l((function(t,e,s,n,a,c){var i=Object(r["y"])("router-link");return Object(r["r"])(),Object(r["e"])("nav",u,[d,Object(r["i"])("div",p,[c.auth?(Object(r["r"])(),Object(r["e"])("a",{key:0,onClick:e[1]||(e[1]=Object(r["G"])((function(t){return c.viewRecent()}),["prevent"])),class:"navbar-item",x:""}," Recently Played ")):Object(r["f"])("",!0),c.auth?(Object(r["r"])(),Object(r["e"])(i,{key:1,to:"/playlists",class:"navbar-item"},{default:l((function(){return[b]})),_:1})):Object(r["f"])("",!0),c.auth?(Object(r["r"])(),Object(r["e"])("div",f,[Object(r["i"])("div",h,[Object(r["E"])(Object(r["i"])("input",{class:"input",type:"text",placeholder:"Search artist, song, or album","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.search=e}),onKeyup:e[3]||(e[3]=Object(r["F"])((function(t){return c.spotifySearch()}),["enter"]))},null,544),[[r["C"],t.search]])]),Object(r["i"])("div",j,[Object(r["i"])("a",{class:"button",onClick:e[4]||(e[4]=function(){return c.spotifySearch.apply(c,arguments)})}," Search ")])])):Object(r["f"])("",!0),O]),c.auth?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])("div",y,[m])),c.auth?(Object(r["r"])(),Object(r["e"])("div",v,[Object(r["i"])("div",g,[Object(r["i"])("div",k,"Hello "+Object(r["A"])(c.user.spotify_id),1),Object(r["i"])("div",A,[Object(r["i"])("div",w,[Object(r["i"])("a",{href:"#",onClick:e[5]||(e[5]=Object(r["G"])((function(t){return c.signOut()}),["prevent"]))}," Sign out ")])])])])):Object(r["f"])("",!0)])})),P={data:function(){return{search:""}},computed:{auth:function(){return this.$store.getters.isAuthenticated},user:function(){return this.$store.state.user}},methods:{spotifySearch:function(){this.search.length>0&&this.search.length>3&&(this.$store.commit("setSearchResults",null),this.$store.dispatch("getSearchResults",this.search),this.search="",this.$router.push("/search"))},viewRecent:function(){this.$store.dispatch("getRecentlyPlayed"),this.$router.push("/recent")},signOut:function(){this.$cookies.remove("user_token"),window.location.href="../"}}},x=(s("8b7a"),s("d959")),R=s.n(x);const S=R()(P,[["render",_],["__scopeId","data-v-006ec342"]]);var $=S,T=Object(r["H"])("data-v-297f9130");Object(r["u"])("data-v-297f9130");var I={key:0,class:"column is-2 aside"},C={class:"container"},G=Object(r["i"])("span",{class:"playlist"},"Create Playlist",-1),J=Object(r["i"])("div",{class:"title"},"Artist Playlists",-1);Object(r["s"])();var z=T((function(t,e,s,n,a,c){return c.auth?(Object(r["r"])(),Object(r["e"])("aside",I,[Object(r["i"])("div",C,[Object(r["i"])("header",null,[Object(r["E"])(Object(r["i"])("input",{class:"input",type:"text",placeholder:"New playlist name","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.newPlaylist=e}),onKeyup:e[2]||(e[2]=Object(r["F"])((function(t){return c.createPlaylist()}),["enter"]))},null,544),[[r["C"],t.newPlaylist]]),Object(r["i"])("a",{class:"button spotify-green-background is-block is-bold",onClick:e[3]||(e[3]=Object(r["G"])((function(t){return c.createPlaylist()}),["prevent"]))},[G])]),Object(r["i"])("footer",null,[J,Object(r["i"])("nav",null,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.playlists,(function(t){return Object(r["r"])(),Object(r["e"])("a",{class:"item",onClick:Object(r["G"])((function(e){return c.setPlaylist(t._id)}),["prevent"]),key:t._id},Object(r["A"])(t.display_name),9,["onClick"])})),128))])])])])):Object(r["f"])("",!0)})),W={data:function(){return{newPlaylist:""}},computed:{auth:function(){return this.$store.getters.isAuthenticated},playlists:function(){return this.$store.getters.artistPlaylists}},methods:{setPlaylist:function(t){this.$store.dispatch("getArtistPlaylist",t),this.$router.push("/artistplaylists/".concat(t))},createPlaylist:function(){this.$store.dispatch("createArtistPlaylist",this.newPlaylist),this.newPlaylist=""}}};s("6ba4");const H=R()(W,[["render",z],["__scopeId","data-v-297f9130"]]);var E=H,N=s("df85"),U={setup:function(){var t=Object(N["b"])(),e=t.cookies;return{cookies:e}},data:function(){},components:{appNavigation:$,appSideNavigation:E},mounted:function(){var t=this.$cookies.get("user_token");t&&(console.log("mounted gather"),this.$store.dispatch("setJWT",t),this.$store.dispatch("tryAutoLogin"),this.$store.dispatch("tryPlaylistGather"),this.$store.dispatch("getRecentlyPlayed"))}};s("043b");const B=R()(U,[["render",c]]);var L=B,M=s("6c02");function q(t,e,s,n,a,c){return Object(r["r"])(),Object(r["e"])("div",null,[Object(r["i"])("h1",null,Object(r["A"])(t.userId),1),Object(r["i"])("p",null,Object(r["A"])(t.user),1)])}var F={};const D=R()(F,[["render",q]]);var K=D,V=(s("b0c0"),Object(r["H"])("data-v-261c7f83"));Object(r["u"])("data-v-261c7f83");var Q={key:0},X=Object(r["g"])('<div class="line hc" data-v-261c7f83><div class="songname header" data-v-261c7f83>Title</div><div class="artists header" data-v-261c7f83>Artists</div><div class="album header" data-v-261c7f83>Album</div><div class="duration header" data-v-261c7f83>Duration</div></div>',1),Y={class:"songname"},Z={class:"artists"},tt={class:"album"},et={class:"duration"};Object(r["s"])();var st=V((function(t,e,s,n,a,c){return null!=c.recently_played?(Object(r["r"])(),Object(r["e"])("main",Q,[X,(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.recently_played.items,(function(t,e){return Object(r["r"])(),Object(r["e"])("div",{class:"line",key:t,id:e},[Object(r["i"])("div",Y,Object(r["A"])(t.track.name),1),Object(r["i"])("div",Z,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(t.track.artists,(function(t,e){return Object(r["r"])(),Object(r["e"])("div",{class:"artist",key:e},[Object(r["i"])("a",{onClick:Object(r["G"])((function(e){return c.openArtist(t.id)}),["prevent"])},Object(r["A"])(t.name),9,["onClick"])])})),128))]),Object(r["i"])("div",tt,Object(r["A"])(t.track.album.name),1),Object(r["i"])("div",et,Object(r["A"])(c.convert_to_minutes(t.track.duration_ms)),1)],8,["id"])})),128))])):Object(r["f"])("",!0)})),rt=(s("b680"),{beforeMount:function(){this.$store.dispatch("tryPlaylistGather")},computed:{recently_played:function(){return this.$store.state.recently_played}},methods:{convert_to_minutes:function(t){var e=Math.floor(t/6e4),s=(t%6e4/1e3).toFixed(0);return e+":"+(s<10?"0":"")+s},openArtist:function(t){this.$store.dispatch("getArtist",t),this.$router.push("/artist")}}});s("5b53");const nt=R()(rt,[["render",st],["__scopeId","data-v-261c7f83"]]);var at=nt,ct=Object(r["H"])("data-v-65a806a5");Object(r["u"])("data-v-65a806a5");var it={class:"playlists"};Object(r["s"])();var ot=ct((function(t,e,s,n,a,c){var i=Object(r["y"])("app-spotify-playlist-list");return Object(r["r"])(),Object(r["e"])("main",null,[Object(r["i"])("div",it,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.spotify_playlists,(function(t){return Object(r["r"])(),Object(r["e"])(i,{key:t.id,playlist:t},null,8,["playlist"])})),128))])])})),lt=s("bd21"),ut=s.n(lt),dt=Object(r["H"])("data-v-378e0c0b");Object(r["u"])("data-v-378e0c0b");var pt={class:"img-container"},bt={key:1,src:ut.a,alt:""},ft={class:"is-size-6 has-text-left"},ht={class:"subtext"};Object(r["s"])();var jt=dt((function(t,e,s,n,a,c){return Object(r["r"])(),Object(r["e"])("div",{class:"spotify-playlist",onClick:e[1]||(e[1]=function(t){return c.openPlaylist(s.playlist.tracks.href)})},[Object(r["i"])("div",pt,[s.playlist.images[1]?(Object(r["r"])(),Object(r["e"])("img",{key:0,src:s.playlist.images[1].url},null,8,["src"])):(Object(r["r"])(),Object(r["e"])("img",bt))]),Object(r["i"])("h1",ft,Object(r["A"])(s.playlist.name),1),Object(r["i"])("span",ht,"By "+Object(r["A"])(s.playlist.owner.display_name),1)])})),Ot={props:{playlist:{type:Object,required:!0}},methods:{openPlaylist:function(t){this.$store.dispatch("getSpotifyPlaylistTracks",{url:t,allTracks:[]}),this.$router.push("/playlists/tracks")}}};s("719a");const yt=R()(Ot,[["render",jt],["__scopeId","data-v-378e0c0b"]]);var mt=yt,vt={mounted:function(){this.$store.state.isAuthenticated&&null==this.$store.state.spotify_playlists&&this.$store.dispatch("getSpotifyPlaylists")},computed:{spotify_playlists:function(){return this.$store.state.spotify_playlists},playlist_image:function(t){var e=t.images[1];return e.url}},components:{appSpotifyPlaylistList:mt}};s("b86b");const gt=R()(vt,[["render",ot],["__scopeId","data-v-65a806a5"]]);var kt=gt,At={key:0},wt=Object(r["i"])("h1",{class:"title"},"Artists",-1),_t=Object(r["i"])("h1",{class:"title"},"Albums",-1),Pt=Object(r["i"])("h1",{class:"title"},"Tracks",-1),xt={key:1};function Rt(t,e,s,n,a,c){return void 0!=c.searchResults||null!=c.searchResults?(Object(r["r"])(),Object(r["e"])("div",At,[wt,Object(r["i"])("ul",null,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.searchResults.artists,(function(t){return Object(r["r"])(),Object(r["e"])("li",{key:t.id},Object(r["A"])(t.name),1)})),128))]),_t,Object(r["i"])("ul",null,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.searchResults.albums,(function(t){return Object(r["r"])(),Object(r["e"])("li",{key:t.id},Object(r["A"])(t.name),1)})),128))]),Pt,Object(r["i"])("ul",null,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.searchResults.tracks,(function(t){return Object(r["r"])(),Object(r["e"])("li",{key:t.id},Object(r["A"])(t.name),1)})),128))])])):(Object(r["r"])(),Object(r["e"])("div",xt,"No search results found!"))}var St={computed:{searchResults:function(){return this.$store.getters.getSearchResultItems}}};const $t=R()(St,[["render",Rt]]);var Tt=$t,It=Object(r["H"])("data-v-ea5dbe34");Object(r["u"])("data-v-ea5dbe34");var Ct={class:"playlist"},Gt={class:"img-container"},Jt={class:"is-size-6 is-bold has-text-left"};Object(r["s"])();var zt=It((function(t,e,s,n,a,c){return Object(r["r"])(),Object(r["e"])("main",null,[Object(r["i"])("div",Ct,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.spotify_playlist_tracks,(function(t){return Object(r["r"])(),Object(r["e"])("div",{class:"track",key:t.added_at},[Object(r["i"])("div",Gt,[t.track.album.images.length>2?(Object(r["r"])(),Object(r["e"])("img",{key:0,src:t.track.album.images[2].url},null,8,["src"])):Object(r["f"])("",!0)]),Object(r["i"])("h1",Jt,Object(r["A"])(t.track.name),1),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(t.track.artists,(function(t){return Object(r["r"])(),Object(r["e"])("a",{key:t.id,onClick:Object(r["G"])((function(e){return c.openArtist(t.id)}),["prevent"])},Object(r["A"])(t.name),9,["onClick"])})),128))])})),128))])])})),Wt={computed:{spotify_playlist_tracks:function(){return this.$store.state.spotify_playlist_tracks}},methods:{openArtist:function(t){this.$store.dispatch("getArtist",t),this.$router.push("/artist")}}};s("d759");const Ht=R()(Wt,[["render",zt],["__scopeId","data-v-ea5dbe34"]]);var Et=Ht,Nt=Object(r["H"])("data-v-10404a81");Object(r["u"])("data-v-10404a81");var Ut={key:0,class:"logged"},Bt=Object(r["h"])(" Welcome back! "),Lt={key:1,class:"notlogged"},Mt=Object(r["i"])("span",null," Looking for an alternative way to organize your music? ",-1),qt=Object(r["i"])("span",null," Move artists into their own categories. ",-1),Ft=Object(r["i"])("span",null," Never forget that newly discovered band! ",-1);Object(r["s"])();var Dt=Nt((function(t,e,s,n,a,c){var i=Object(r["y"])("recently-played");return Object(r["r"])(),Object(r["e"])("main",{class:{background:!c.auth}},[c.auth?(Object(r["r"])(),Object(r["e"])("div",Ut,[Bt,Object(r["i"])(i)])):(Object(r["r"])(),Object(r["e"])("div",Lt,[Mt,qt,Ft]))],2)})),Kt={components:{RecentlyPlayed:at},data:function(){return{playlistName:"",results:""}},props:{msg:String},computed:{auth:function(){return this.$store.getters.isAuthenticated},user:function(){return this.$store.state.user}},methods:{}};s("4566");const Vt=R()(Kt,[["render",Dt],["__scopeId","data-v-10404a81"]]);var Qt=Vt,Xt=Object(r["H"])("data-v-7156d71e");Object(r["u"])("data-v-7156d71e");var Yt={key:0},Zt={class:"is-size-5"},te={class:"artists"},ee={class:"img-container has-text-centered"},se={class:"is-size-6 has-text-left"},re=Object(r["i"])("br",null,null,-1),ne=Object(r["i"])("span",{class:"subtext"},"Artist",-1);Object(r["s"])();var ae=Xt((function(t,e,s,n,a,c){return null!==c.playlist?(Object(r["r"])(),Object(r["e"])("main",Yt,[Object(r["i"])("header",null,[Object(r["i"])("h1",Zt,Object(r["A"])(c.playlist.display_name),1)]),Object(r["i"])("div",te,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.playlist.artists,(function(t,e){return Object(r["r"])(),Object(r["e"])("div",{key:e,class:"artist",onClick:Object(r["G"])((function(e){return c.openArtist(t.artistid)}),["prevent"])},[Object(r["i"])("div",ee,[Object(r["i"])("img",{src:t.artistimage},null,8,["src"])]),Object(r["i"])("h1",se,[Object(r["h"])(Object(r["A"])(t.artistname)+" ",1),re,ne])],8,["onClick"])})),128))])])):Object(r["f"])("",!0)})),ce={mounted:function(){},computed:{playlist:function(){return this.$store.getters.artistPlaylist}},methods:{openArtist:function(t){this.$store.dispatch("getArtist",t),this.$router.push("/artist")}}};s("327f");const ie=R()(ce,[["render",ae],["__scopeId","data-v-7156d71e"]]);var oe=ie,le=Object(r["H"])("data-v-bfc98a7a");Object(r["u"])("data-v-bfc98a7a");var ue={class:"notification-container"},de=Object(r["h"])(" Artist added successfully! "),pe=Object(r["h"])(" Error adding artist! Please try again. "),be={key:0},fe={class:"title"},he={class:"dropdown-trigger is-center"},je=Object(r["i"])("span",null,"Add to Playlist",-1),Oe={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},ye={class:"dropdown-content"},me={key:1,src:ut.a,class:"is-centered"},ve={key:1},ge=Object(r["i"])("h1",{class:"is-size-5"},"Artist's Albums",-1),ke={class:"cards"},Ae={class:"img-container has-text-centered"},we={class:"is-size-6 has-text-left album-name"},_e=Object(r["i"])("h1",{class:"is-size-5"},"Similar Artists",-1),Pe={class:"cards"},xe={class:"img-container has-text-centered"},Re={class:"is-size-6 has-text-left artist-name"},Se=Object(r["i"])("footer",null,null,-1);Object(r["s"])();var $e=le((function(t,e,s,n,a,c){return Object(r["r"])(),Object(r["e"])("div",ue,[Object(r["i"])(r["b"],{name:"fade"},{default:le((function(){return[Object(r["i"])("div",{class:["notification is-success",{"is-visible":a.successful,"is-hidden":!a.successful||null==a.successful}]},[Object(r["i"])("button",{class:"delete",onClick:e[1]||(e[1]=function(t){return c.toggleNotification()})}),de],2)]})),_:1}),Object(r["i"])(r["b"],{name:"fade"},{default:le((function(){return[Object(r["i"])("div",{class:["notification is-danger",{"is-visible":!a.successful,"is-hidden":a.successful||null==a.successful}]},[Object(r["i"])("button",{class:"delete",onClick:e[2]||(e[2]=function(t){return c.toggleNotification()})}),pe],2)]})),_:1}),null!=c.artist?(Object(r["r"])(),Object(r["e"])("header",be,[Object(r["i"])("h1",fe,Object(r["A"])(c.artist.name),1),Object(r["i"])("div",{class:["dropdown is-hoverable",{"is-active":a.isActive}]},[Object(r["i"])("div",he,[Object(r["i"])("button",{class:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:e[3]||(e[3]=function(t){return c.toggleActive()})},[je])]),Object(r["i"])("div",Oe,[Object(r["i"])("div",ye,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.playlists,(function(t){return Object(r["r"])(),Object(r["e"])("a",{key:t.id,href:"#",class:"dropdown-item",onClick:Object(r["G"])((function(e){return c.addToPlaylist(t)}),["prevent"])},Object(r["A"])(t.display_name),9,["onClick"])})),128))])])],2),c.artist.images.length>0?(Object(r["r"])(),Object(r["e"])("img",{key:0,src:c.artist.images[0].url},null,8,["src"])):(Object(r["r"])(),Object(r["e"])("img",me))])):Object(r["f"])("",!0),null!=c.artistInfo?(Object(r["r"])(),Object(r["e"])("main",ve,[ge,Object(r["i"])("div",ke,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.artistInfo.albums.items,(function(t,e){return Object(r["r"])(),Object(r["e"])("div",{class:"album",key:e},[Object(r["i"])("div",Ae,[t.images[0]?(Object(r["r"])(),Object(r["e"])("img",{key:0,src:t.images[0].url},null,8,["src"])):Object(r["f"])("",!0)]),Object(r["i"])("h1",we,Object(r["A"])(t.name),1)])})),128))]),_e,Object(r["i"])("div",Pe,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(c.artistInfo.relatedArtists.artists,(function(t,e){return Object(r["r"])(),Object(r["e"])("div",{class:"similar-artist",key:e},[Object(r["i"])("div",xe,[t.images?(Object(r["r"])(),Object(r["e"])("img",{key:0,src:t.images[0].url},null,8,["src"])):Object(r["f"])("",!0)]),Object(r["i"])("h1",Re,[Object(r["i"])("a",{onClick:Object(r["G"])((function(e){return c.openArtist(t.id)}),["prevent"])},Object(r["A"])(t.name),9,["onClick"])])])})),128))])])):Object(r["f"])("",!0),Se])})),Te=(s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("96cf"),s("1da1")),Ie={data:function(){return{isActive:!1,successful:null}},mounted:function(){},computed:{artist:function(){return this.$store.state.artist},artistInfo:function(){return this.$store.state.artistInfo},playlists:function(){return this.$store.state.artistPlaylists}},methods:{addToPlaylist:function(t){var e=this;return Object(Te["a"])(regeneratorRuntime.mark((function s(){var r,n,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:console.log(e.$store.getters.JWT),r=new Headers,r.append("Content-Type","application/x-www-form-urlencoded"),n=new URLSearchParams,n.append("artistName",e.artist.name),n.append("artistId",e.artist.id),n.append("playlistId",t._id),n.append("artistUrl",e.artist.href),n.append("artistImage",e.artist.images[0].url||"../assets/no-image.png"),n.append("token",e.$store.getters.JWT),a={method:"POST",headers:r,body:n,redirect:"follow"},fetch("https://artistplaylists.herokuapp.com/artist/playlist/add",a).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}));case 12:case"end":return s.stop()}}),s)})))()},openArtist:function(t){this.$store.dispatch("getArtist",t),this.$router.push("/artist")},toggleActive:function(){},toggleNotification:function(){this.successful=null}}};s("46c0");const Ce=R()(Ie,[["render",$e],["__scopeId","data-v-bfc98a7a"]]);var Ge=Ce;function Je(t,e,s,n,a,c){return Object(r["r"])(),Object(r["e"])("div")}var ze={beforeMount:function(){this.$route.query.token&&(this.$store.commit("setJWT",this.$route.query.token),this.$cookies.set("user_token",this.$route.query.token),this.$store.dispatch("tryAutoLogin"),window.location.href="../")}};const We=R()(ze,[["render",Je]]);var He=We,Ee=s("5502"),Ne=s("bc3a"),Ue=s.n(Ne),Be=(s("99af"),s("2909")),Le=s("bc3a"),Me={state:{spotify_playlists:null,spotify_playlist_tracks:null,artist:null,artistInfo:null,search_results:null,recently_played:null},mutations:{setSpotifyPlaylists:function(t,e){this.state.spotify_playlists=e},setArtist:function(t,e){this.state.artist=e},setArtistInfo:function(t,e){this.state.artistInfo=e},setSpotifyPlaylistTracks:function(t,e){this.state.spotify_playlist_tracks=e},setSearchResults:function(t,e){this.state.search_results=e},setRecentlyPlayed:function(t,e){console.log(e),this.state.recently_played=e}},actions:{getSpotifyPlaylists:function(t){return Object(Te["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0==t.rootState.user.access_token){e.next=6;break}return e.next=3,Le({method:"GET",url:"https://api.spotify.com/v1/me/playlists",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)},params:{limit:50}});case 3:s=e.sent,r=s.data.items,t.commit("setSpotifyPlaylists",r);case 6:case"end":return e.stop()}}),e)})))()},getSpotifyPlaylistTracks:function(t,e){return Object(Te["a"])(regeneratorRuntime.mark((function s(){var r,n,a,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,void 0==t.rootState.user.access_token){s.next=9;break}return s.next=4,Le({method:"GET",url:e.url,headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)}});case 4:r=s.sent,n=r.data.items,a=r.data.next,c=[].concat(Object(Be["a"])(e.allTracks),Object(Be["a"])(n)),null!=a?t.dispatch("getSpotifyPlaylistTracks",{url:a,allTracks:c}):t.commit("setSpotifyPlaylistTracks",c);case 9:s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),console.error(s.t0);case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()},getSearchResults:function(t,e){return Object(Te["a"])(regeneratorRuntime.mark((function s(){var r,n,a,c,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!t.rootState.user.access_token){s.next=10;break}return s.next=3,Le({method:"GET",url:"https://api.spotify.com/v1/search",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)},params:{type:"artist,track,album",q:e}});case 3:r=s.sent,n=r.data,a=n.albums,c=n.artists,i=n.tracks,o={albums:a.items,artists:c.items,tracks:i.items},t.commit("setSearchResults",o);case 10:case"end":return s.stop()}}),s)})))()},getArtist:function(t,e){return Object(Te["a"])(regeneratorRuntime.mark((function s(){var r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,void 0==t.rootState.user.access_token){s.next=8;break}return s.next=4,Le({method:"GET",url:"https://api.spotify.com/v1/artists/".concat(e),headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)}});case 4:r=s.sent,n=r.data,t.commit("setArtist",n),t.dispatch("getArtistInfo",e);case 8:s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log(s.t0);case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},getArtistInfo:function(t,e){return Object(Te["a"])(regeneratorRuntime.mark((function s(){var r,n,a,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r={},s.prev=1,s.next=4,Le({method:"GET",url:"https://api.spotify.com/v1/artists/".concat(e,"/related-artists"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)}});case 4:return n=s.sent,s.next=7,Le({method:"GET",url:"https://api.spotify.com/v1/artists/".concat(e,"/top-tracks"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)},params:{market:"US"}});case 7:return a=s.sent,s.next=10,Le({method:"GET",url:"https://api.spotify.com/v1/artists/".concat(e,"/albums"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)}});case 10:c=s.sent,r.relatedArtists=n.data,r.topTracks=a.data,r.albums=c.data,t.commit("setArtistInfo",r),s.next=20;break;case 17:s.prev=17,s.t0=s["catch"](1),console.log(s.t0);case 20:case"end":return s.stop()}}),s,null,[[1,17]])})))()},getRecentlyPlayed:function(t){return Object(Te["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le({method:"GET",url:"https://api.spotify.com/v1/me/player/recently-played",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.user.access_token)},params:{limit:"20"}});case 3:s=e.sent,r=s.data,t.commit("setRecentlyPlayed",r),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},getters:{getSpotifyPlaylists:function(t){return t.spotify_playlists},getSpotifyPlaylistTracks:function(t){return t.spotify_playlist_tracks},getSearchResultItems:function(t){return t.search_results},getRecentlyPlayed:function(t){return t.recently_played}}};s("ed18").config();var qe=Object(Ee["a"])({state:{idToken:null,userId:null,user:null,isAuthenticated:!1,artistPlaylists:null,artistPlaylist:null,JWT:null},mutations:{authUser:function(t,e){t.idToken=e.token,t.userId=e.userId},setUser:function(t,e){t.user=e},clearAuthData:function(t){t.idToken=null,t.userId=null},setAuthed:function(t,e){t.isAuthenticated=e},setArtistPlaylists:function(t,e){t.artistPlaylists=e},setArtistPlaylist:function(t,e){t.artistPlaylist=e},setJWT:function(t,e){t.JWT=e}},actions:{tryAutoLogin:function(t){return Object(Te["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ue.a.get("https://artistplaylists.herokuapp.com/auth/checklogin",{params:{token:t.getters.JWT}});case 2:s=e.sent,null!==s.spotify_id&&(t.commit("setUser",s.data),t.commit("setAuthed",!0),t.dispatch("tryPlaylistGather"));case 4:case"end":return e.stop()}}),e)})))()},setJWT:function(t,e){return Object(Te["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.commit("setJWT",e);case 1:case"end":return s.stop()}}),s)})))()},tryPlaylistGather:function(t){return Object(Te["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("trying gather"),s=t.getters.JWT,Ue.a.get("https://artistplaylists.herokuapp.com/artist/playlists",{params:{token:s}}).then((function(e,s){if(s)return console.log(s);t.dispatch("setArtistPlaylists",e.data)}));case 3:case"end":return e.stop()}}),e)})))()},setArtistPlaylist:function(t,e){t.dispatch("setArtistPlaylist",e)},getArtistPlaylist:function(t,e){return Object(Te["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Ue.a.get("https://artistplaylists.herokuapp.com/artist/playlist",{params:{id:e,token:t.getters.JWT}});case 2:r=s.sent,null!=r.data&&t.commit("setArtistPlaylist",r.data);case 4:case"end":return s.stop()}}),s)})))()},createArtistPlaylist:function(t,e){return Object(Te["a"])(regeneratorRuntime.mark((function s(){var r,n,a,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.getters.JWT;case 2:r=s.sent,n=new Headers,n.append("Content-Type","application/x-www-form-urlencoded"),a=new URLSearchParams,a.append("name",e),a.append("token",r),c={method:"POST",headers:n,body:a,redirect:"follow"},fetch("https://artistplaylists.herokuapp.com/artist/playlist",c).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}));case 10:case"end":return s.stop()}}),s)})))()},setArtistPlaylists:function(t,e){t.commit("setArtistPlaylists",e)},addArtistToPlaylist:function(t,e){return Object(Te["a"])(regeneratorRuntime.mark((function s(){var r,n,a,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.getters.JWT;case 2:r=s.sent,n=new Headers,n.append("Content-Type","application/x-www-form-urlencoded"),a=new URLSearchParams,a.append("name",e),a.append("token",r),c={method:"POST",headers:n,body:a,redirect:"follow"},fetch("https://artistplaylists.herokuapp.com/artist/playlist",c).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}));case 10:case"end":return s.stop()}}),s)})))()}},getters:{user:function(t){return t.user},isAuthenticated:function(t){return t.isAuthenticated},artistPlaylists:function(t){return t.artistPlaylists},artistPlaylist:function(t){return t.artistPlaylist},JWT:function(t){return t.JWT}},modules:{spotify:Me}}),Fe=Object(M["b"])(),De=[{path:"/login",component:K},{path:"/playlists",component:kt},{path:"/playlists/tracks",component:Et},{path:"/artistplaylists/:id",component:oe,beforeRouteEnter:function(t,e,s){var r=t.params.id;qe.dispatch("getArtistPlaylist",r),s()}},{path:"/recent",component:at},{path:"/search",component:Tt},{path:"/artist",component:Ge},{path:"/auth",props:!0,component:He},{path:"",component:Qt}],Ke=Object(M["a"])({mode:"history",history:Fe,routes:De}),Ve=Ke;Object(r["d"])(L).use(qe).use(Ve).use(N["a"]).mount("#app")},"5b53":function(t,e,s){"use strict";s("d8be")},"6ba4":function(t,e,s){"use strict";s("ce62")},"719a":function(t,e,s){"use strict";s("95b9")},"834b":function(t,e,s){},"8b7a":function(t,e,s){"use strict";s("a934")},"8d90":function(t,e,s){},"95b9":function(t,e,s){},a004:function(t,e,s){},a934:function(t,e,s){},b86b:function(t,e,s){"use strict";s("8d90")},bd21:function(t,e,s){t.exports=s.p+"img/no-image.b11d597f.png"},ce62:function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.a7bddc22.png"},d021:function(t,e,s){},d759:function(t,e,s){"use strict";s("2816")},d8be:function(t,e,s){}});
//# sourceMappingURL=app.3f1b4247.js.map